<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="login.css">
</head>
<body>

<div class="login-wrapper">
    <div class="login-card shadow-lg">
        <div class="text-center mb-4">
            <h2>Bienvenido</h2>
            <p>Ingresa tus credenciales para acceder a tu cuenta</p>
        </div>

        <form id="loginForm">
            <div class="mb-3">
                <label>Correo electrónico</label>
                <input type="text" id="email" name="email" class="form-control" placeholder="Correo electrónico" required>
            </div>
            <div class="mb-3">
                <label>Contraseña</label>
                <div class="input-group">
                    <input type="password" id="password" class="form-control" placeholder="Contraseña" required>
                    <button type="button" id="togglePassword" class="btn btn-outline-secondary">👁</button>
                </div>

            </div>
            <button type="submit" class="btn btn-primary w-100">Iniciar Sesión</button>
        </form>
        <div class="text-left mt-3">
            <small>¿Olvidaste tu contraseña? <a href="/forgot">Recuperar</a></small>
        </div>
        <br/>
        <p>------ Otras formas de inicio de sesión ------</p>

        <!-- Botón Google estilizado -->
        <a href="/auth/google" class="btn w-100 d-flex align-items-center justify-content-center mt-3" 
        style="height:50px; border-radius:0.375rem; background-color:#ffffff; border:none; transition:0.3s; color:#000000; font-weight:500; text-decoration:none;">
            <svg width="24px" height="24px" viewBox="0 0 256 262" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid">
                <g>
                    <path d="M255.878,133.451 C255.878,122.717 255.007,114.884 253.122,106.761 L130.55,106.761 L130.55,155.209 L202.497,155.209 C201.047,167.249 193.214,185.381 175.807,197.565 L175.563,199.187 L214.318,229.21 L217.003,229.478 C241.662,206.704 255.878,173.196 255.878,133.451" fill="#4285F4"/>
                    <path d="M130.55,261.1 C165.798,261.1 195.389,249.495 217.003,229.478 L175.807,197.565 C164.783,205.253 149.987,210.62 130.55,210.62 C96.027,210.62 66.726,187.847 56.281,156.37 L54.75,156.5 L14.452,187.687 L13.925,189.152 C35.393,231.798 79.49,261.1 130.55,261.1" fill="#34A853"/>
                    <path d="M56.281,156.37 C53.525,148.247 51.93,139.543 51.93,130.55 C51.93,121.556 53.525,112.853 56.136,104.73 L56.063,103 L15.26,71.312 L13.925,71.947 C5.077,89.644 0,109.517 0,130.55 C0,151.583 5.077,171.455 13.925,189.152 L56.281,156.37" fill="#FBBC05"/>
                    <path d="M130.55,50.479 C155.064,50.479 171.6,61.068 181.029,69.917 L217.873,33.943 C195.245,12.91 165.798,0 130.55,0 C79.49,0 35.393,29.301 13.925,71.947 L56.136,104.73 C66.726,73.253 96.027,50.479 130.55,50.479" fill="#EB4335"/>
                </g>
            </svg>
            <span class="ms-2">Iniciar Sesión con Google</span>
        </a>

        <style>
            .btn-primary:hover {
                background-color: #c13527 !important;
            }
        </style>
        <!-- Botón estilo Passkey -->
        <button id="show-passkey" style="
            height:50px; 
            border-radius:0.375rem; 
            background-color:#ffffff; 
            border:none; 
            transition:0.3s; 
            color:#000000; 
            font-weight:500; 
            display:flex; 
            align-items:center; 
            justify-content:center;
            cursor:pointer;
            width:100%;
        ">
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C7.58172 2 4 5.58172 4 10C4 14.4183 7.58172 18 12 18C14.0217 18 15.8789 17.2036 17.2426 15.8787L21 19.6361L22.4142 18.2218L18.6569 14.4645C19.9818 13.1008 20.7782 11.2436 20.7782 9.222C20.7782 4.80372 17.1965 1.222 12.7782 1.222C12.5182 1.222 12.259 1.2295 12 1.2445V2ZM12 4C15.3137 4 18 6.68629 18 10C18 13.3137 15.3137 16 12 16C8.68629 16 6 13.3137 6 10C6 6.68629 8.68629 4 12 4Z" fill="#000000"/>
            </svg>
            <span class="ms-2">Passkey</span>
        </button>

        <!-- Contenedor oculto -->
        <div id="passkey-container" class="mt-3" style="display: none;">
            <div class="mb-3 mt-4">
                <label>Correo electrónico</label>
                <input type="text" id="email-passkey" class="form-control" placeholder="Correo electrónico" required>
            </div>
            <button id="login-passkey-btn" type="button" class="btn btn-primary w-100 mt-2">
                Login con Passkey
            </button>
        </div>
        <div class="text-center mt-3">
            <small>Todavía no tienes cuenta? <a href="/register">Registrate</a></small>
        </div>
    </div>
    </div>
</div>
<script src="https://unpkg.com/@simplewebauthn/browser/dist/bundle/index.umd.min.js"></script>
<script src="login.js"></script>
<script>
//const { startAuthentication } = SimpleWebAuthnBrowser;

// Función para convertir ArrayBuffer a Base64URL

</script>




</body>
</html>
